{"ast":null,"code":"import { useState } from \"react\";\nimport { act } from \"react-dom/test-utils\";\nimport Tasks from \"../Tasks\";\nimport actions from \"./actions\";\nlet users = [];\nlet newUser1 = {};\nnewUser1.id = 0;\nnewUser1.imageUrl = \"https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png\";\nnewUser1.name = \"Dhruv Patel\";\nnewUser1.designation = \"project head\";\nnewUser1.location = \"Mumbai, India\";\nnewUser1.email = \"dhruv.patel@comapnay.com\";\nnewUser1.phone = \"917878345672\";\nnewUser1.tasks = [0];\nusers.push(newUser1);\nlet newUser2 = {};\nnewUser2.id = 1;\nnewUser2.imageUrl = \"assets/john-paul.jpeg\";\nnewUser2.name = \"John Paul\";\nnewUser2.designation = \"project manager\";\nnewUser2.location = \"New York, USA\";\nnewUser2.email = \"john.paul@comapnay.com\";\nnewUser2.phone = \"19998645408\";\nnewUser2.tasks = [1];\nusers.push(newUser2);\nlet tasks = [];\nlet newTask1 = {};\nnewTask1.taskId = 0;\nnewTask1.imageUrl = \"assets/macd-first-page.jpeg\";\nnewTask1.title = \"Create welcome page of the restaurant\";\nnewTask1.assignee = 0;\nnewTask1.status = 0;\nnewTask1.dueDate = \"2020-12-25\";\nnewTask1.stages = {\n  \"Write HTML document\": false,\n  \"Add styling to the page using CSS\": false,\n  \"Add interaction using Javascript\": false,\n  \"Deploy the page\": false\n};\ntasks.push(newTask1);\nlet newTask2 = {};\nnewTask2.taskId = 1;\nnewTask2.imageUrl = \"assets/default.png\";\nnewTask2.title = \"create customer care utility\";\nnewTask2.assignee = 1;\nnewTask2.status = 0;\nnewTask2.dueDate = \"2020-12-25\";\nnewTask2.stages = {\n  \"Build static layout\": false,\n  \"Add UI in the page\": false,\n  \"Create chatbot\": false,\n  \"Design ML model for chatbot\": false\n};\ntasks.push(newTask2);\n\nconst rootReducer = (state = {\n  users: users,\n  tasks: tasks\n}, action) => {\n  switch (action.type) {\n    case \"ADD_USER\":\n      return { ...state,\n        users: [...state.users, action.payload]\n      };\n\n    case \"REMOVE_USER\":\n      console.log(action);\n      return {\n        users: state.users.filter(user => user.id != action.payload),\n        tasks: state.tasks.filter(task => task.assignee != action.payload)\n      };\n\n    case \"ADD_TASK\":\n      {\n        let user = state.users.find(user => user.id == action.payload.assignee);\n        user.tasks.push(action.payload.taskId);\n        return {\n          users: state.users,\n          tasks: [...state.tasks, action.payload]\n        };\n      }\n\n    case \"REMOVE_TASK\":\n      {\n        let task = state.tasks.find(task => task.taskId == action.payload);\n        let user = state.users.find(user => user.id == task.assignee);\n        user.tasks = user.tasks.filter(taskId => taskId != action.payload);\n        return {\n          users: state.users,\n          tasks: state.tasks.filter(task => task.taskId != action.payload)\n        };\n      }\n\n    case \"UPDATE_USER\":\n      {\n        let ind = state.users.findIndex(user => user.id == action.payload.id);\n        return { ...state,\n          users: [...state.users.slice(0, ind), action.payload.user, ...state.users.slice(ind + 1)]\n        };\n      }\n\n    case \"UPDATE_TASK\":\n      {\n        let ind = state.tasks.findIndex(task => task.taskID == action.payload.taskId);\n\n        if (state.tasks[ind].assignee == action.payload.task.assignee) {\n          return { ...state,\n            tasks: [...state.tasks.slice(0, ind), action.payload.task, ...state.tasks.slice(ind + 1)]\n          };\n        } else {\n          let user = state.users.find(user => user.id == state.tasks[ind].assignee);\n          user.tasks = user.tasks.filter(taskId => taskId != action.payload.taskId);\n          let newUser = state.users.find(user => user.id == action.payload.task.taskID);\n          newUser.tasks = [...newUser.tasks, action.payload.task.taskID];\n          return {\n            users: state.users,\n            tasks: [...state.tasks.slice(0, ind), action.payload.task, ...state.tasks.slice(ind + 1)]\n          };\n        }\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"sources":["/Users/dhruvpatel/Desktop/poject-redux/src/store/reducers.js"],"names":["useState","act","Tasks","actions","users","newUser1","id","imageUrl","name","designation","location","email","phone","tasks","push","newUser2","newTask1","taskId","title","assignee","status","dueDate","stages","newTask2","rootReducer","state","action","type","payload","console","log","filter","user","task","find","ind","findIndex","slice","taskID","newUser"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { act } from \"react-dom/test-utils\";\nimport Tasks from \"../Tasks\";\nimport actions from \"./actions\";\n\nlet users = [];\nlet newUser1 = {};\nnewUser1.id = 0;\nnewUser1.imageUrl = \"https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png\";\nnewUser1.name = \"Dhruv Patel\";\nnewUser1.designation = \"project head\";\nnewUser1.location = \"Mumbai, India\";\nnewUser1.email = \"dhruv.patel@comapnay.com\";\nnewUser1.phone = \"917878345672\";\nnewUser1.tasks = [0];\nusers.push(newUser1);\n\nlet newUser2 = {};\nnewUser2.id = 1;\nnewUser2.imageUrl = \"assets/john-paul.jpeg\";\nnewUser2.name = \"John Paul\";\nnewUser2.designation = \"project manager\";\nnewUser2.location = \"New York, USA\";\nnewUser2.email = \"john.paul@comapnay.com\";\nnewUser2.phone = \"19998645408\";\nnewUser2.tasks = [1];\nusers.push(newUser2);\n\n\nlet tasks = [];\nlet newTask1 = {};\nnewTask1.taskId = 0;\nnewTask1.imageUrl = \"assets/macd-first-page.jpeg\";\nnewTask1.title = \"Create welcome page of the restaurant\";\nnewTask1.assignee = 0;\nnewTask1.status = 0;\nnewTask1.dueDate = \"2020-12-25\";\nnewTask1.stages = {\n    \"Write HTML document\" : false,\n    \"Add styling to the page using CSS\" : false,\n    \"Add interaction using Javascript\" : false,\n    \"Deploy the page\" : false,\n};\ntasks.push(newTask1);\n\nlet newTask2 = {};\nnewTask2.taskId = 1;\nnewTask2.imageUrl = \"assets/default.png\";\nnewTask2.title = \"create customer care utility\";\nnewTask2.assignee = 1;\nnewTask2.status = 0;\nnewTask2.dueDate = \"2020-12-25\";\nnewTask2.stages = {\n    \"Build static layout\" : false,\n    \"Add UI in the page\" : false,\n    \"Create chatbot\" : false,\n    \"Design ML model for chatbot\" : false,\n};\ntasks.push(newTask2);\n\n\nconst rootReducer = (state = {users: users,tasks: tasks},action) => {\n    switch (action.type) {\n        case \"ADD_USER\" :\n            return (\n                {\n                    ...state,\n                    users: [...state.users,action.payload],\n                }\n            )\n\n        case \"REMOVE_USER\" :\n            console.log(action);\n            return (\n                {\n                    users: state.users.filter(user => user.id != action.payload),\n                    tasks: state.tasks.filter(task => task.assignee != action.payload),\n                }\n            )\n\n        case \"ADD_TASK\" : {\n            let user = state.users.find(user => user.id == action.payload.assignee);\n            user.tasks.push(action.payload.taskId);\n            return (\n                {\n                    users: state.users,\n                    tasks: [...state.tasks,action.payload],\n                }\n            )\n        }\n\n        case \"REMOVE_TASK\" : {\n            let task = state.tasks.find(task => task.taskId == action.payload);\n            let user = state.users.find(user => user.id == task.assignee);\n            user.tasks = user.tasks.filter(taskId => taskId != action.payload);\n            return (\n                {\n                    users: state.users,\n                    tasks: state.tasks.filter(task => task.taskId != action.payload),\n                }\n            )\n        }\n\n        case \"UPDATE_USER\" : {\n            let ind = state.users.findIndex(user => user.id == action.payload.id)\n            return (\n                {\n                    ...state,\n                    users: [...state.users.slice(0,ind),action.payload.user,...state.users.slice(ind+1)],\n                }\n            )\n        }\n\n        case \"UPDATE_TASK\" : {\n            let ind = state.tasks.findIndex(task => task.taskID == action.payload.taskId);\n            if(state.tasks[ind].assignee == action.payload.task.assignee) {\n                return (\n                    {\n                        ...state,\n                        tasks: [...state.tasks.slice(0,ind),action.payload.task,...state.tasks.slice(ind+1)]\n                    }\n                )\n            }\n            else {\n                let user = state.users.find(user => user.id == state.tasks[ind].assignee);\n                user.tasks = user.tasks.filter(taskId => taskId != action.payload.taskId);\n                let newUser = state.users.find(user => user.id == action.payload.task.taskID);\n                newUser.tasks = [...newUser.tasks, action.payload.task.taskID];\n                return (\n                    {\n                        users: state.users,\n                        tasks: [...state.tasks.slice(0,ind),action.payload.task,...state.tasks.slice(ind+1)]\n                    }\n                )\n            }\n        }\n\n        default : return state;\n    }\n}\n\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}